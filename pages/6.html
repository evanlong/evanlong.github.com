<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <title>Blog Test</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

    <!-- 1140px Grid styles for IE -->
    <!--[if lte IE 9]><link rel="stylesheet" href="../static/css/ie_1140.css" type="text/css" media="screen" /><![endif]-->
    <!--[if lte IE 9]><link rel="stylesheet" href="../static/css/ie_reset.css" type="text/css" media="screen" /><![endif]-->

    <!-- The 1140px Grid - http://cssgrid.net/ -->
    <link rel="stylesheet" href="../static/css/1140.css" type="text/css" media="screen" />

    <link rel="alternate" type="application/rss+xml" title="infectmac - RSS" href="../rss.xml" />

    <!-- Your styles -->
    <link rel="stylesheet" href="../static/css/styles.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../static/css/twilight_pygments.css" type="text/css" media="screen" />

    <!--css3-mediaqueries-js - http://code.google.com/p/css3-mediaqueries-js/ - Enables media queries in some unsupported browsers-->
    <script type="text/javascript" src="../static/js/css3-mediaqueries.js"></script>
  </head>

  <body>
    <div class="container">
      <!-- Header -->
      <div class="row">
        <div class="twocol"></div>
        <div class="eightcol blog-header">
          infectmac.com<br/>
        </div>
      </div>

      <!-- Section -->
      <div class="row">
        <div class="twocol"></div>
        <div class="eightcol section">
          <span class="section-header"><a href="../index.html">Blog</a></span>
          <span class="section-header"><a href="../posts.html">Posts</a></span>
          <span class="section-header"><a href="../about.html">About</a></span>
        </div>
      </div>

      
  <!-- Posts -->
  
  <div class="row post-container">
    <div class="twocol"></div>
    <div class="eightcol post">
      <div class="post-title"><a href="../posts/2008-7-22-1-15-python-tree.html">python tree</a></div>
      <div class="post-date">July 22, 2008</div>
      <p>I implement a simple tree with the DFS and BFS defined using python generators.</p>
<div class="codehilite"><pre><span class="k">class</span> <span class="nc">Tree</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">yield</span> <span class="bp">self</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">child</span><span class="o">.</span><span class="n">dfs</span><span class="p">():</span>
                <span class="k">yield</span> <span class="n">c</span>

    <span class="k">def</span> <span class="nf">bfs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">yield</span> <span class="bp">self</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">first</span> <span class="o">=</span> <span class="n">queue</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">queue</span> <span class="o">=</span> <span class="n">queue</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="n">queue</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">first</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">first</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">root</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">Tree</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">root</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">Tree</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>

    <span class="c">#-1,0,0,0,0...</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">dfs</span><span class="p">():</span>
        <span class="k">print</span> <span class="n">node</span><span class="o">.</span><span class="n">data</span>

    <span class="k">print</span>
    <span class="k">print</span>

    <span class="c">#-1,0,1,2,3,4,0,0,0,0,1,2,0,2,4...</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">bfs</span><span class="p">():</span>
        <span class="k">print</span> <span class="n">node</span><span class="o">.</span><span class="n">data</span>
</pre></div>
    </div>
  </div>
  
  <div class="row post-container">
    <div class="twocol"></div>
    <div class="eightcol post">
      <div class="post-title"><a href="../posts/2008-7-13-5-22-chipmark2rss.html">chipmark2rss</a></div>
      <div class="post-date">July 13, 2008</div>
      <p>I have been busy this past week but I got a chance to create a new chipmark feature. It's not actually on your our <a href="https://www.chipmark.com">https://www.chipmark.com</a> server but I wrote an app Google App Engine that downloads your public bookmarks and puts them in an RSS feed. The downside of the app is that users must provide there username and password. It would be nice if we implemented OAuth on Chipmark so third party apps could be allowed access to the account without the user having to give their password away to the app. One goal this past year was to implement mashups with chipmark. Currently, we do not have a method that allow users to expose their public chipmarks. For right now the app engine app is the only way to embed a feed of your chipmarks in a website. Take a look at the sidebar and you'll see some of my recent chipmarks.</p>
<p>I should mention I thought of doing this after seeing this in my feed reader yesterday: <a href="http://torrentfreak.com/automate-your-bittorrent-downloads-with-mininova-bookmarks-080709/">remote torrent</a>.</p>
    </div>
  </div>
  
  <div class="row post-container">
    <div class="twocol"></div>
    <div class="eightcol post">
      <div class="post-title"><a href="../posts/2008-7-7-1-58-A-simple-stack-machine.html">A simple stack machine</a></div>
      <div class="post-date">July 07, 2008</div>
      <p>A lot of popular virtual machines are stack based. The instruction sets take their inputs from a stack and then place their outputs on the same stack. It's pretty simple at face value but the virtual machines end up doing a lot of fancy things behind the scenes to make the code run fast. </p>
<p>Today I implement a REALLY REALLY BASIC stack based virtual machine that does basic math.</p>
<div class="codehilite"><pre><span class="n">s</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">def</span> <span class="nf">e</span><span class="p">(</span><span class="n">cmd</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">s</span>
    <span class="n">f</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;add&#39;</span> <span class="p">:</span> <span class="s">&#39;s.append(s.pop()+s.pop())&#39;</span><span class="p">,</span>
       <span class="s">&#39;dup&#39;</span> <span class="p">:</span> <span class="s">&#39;s.append(s[-1])&#39;</span><span class="p">,</span>
       <span class="s">&#39;sub&#39;</span> <span class="p">:</span> <span class="s">&#39;s.append(s.pop()-s.pop())&#39;</span><span class="p">,</span>
       <span class="s">&#39;mul&#39;</span> <span class="p">:</span> <span class="s">&#39;s.append(s.pop()*s.pop())&#39;</span><span class="p">,</span>
       <span class="s">&#39;div&#39;</span> <span class="p">:</span> <span class="s">&#39;s.append(s.pop()/s.pop())&#39;</span><span class="p">,</span>
       <span class="s">&#39;peak&#39;</span> <span class="p">:</span> <span class="s">&#39;print s[-1]&#39;</span><span class="p">,</span>
       <span class="s">&#39;out&#39;</span> <span class="p">:</span> <span class="s">&#39;print s.pop()&#39;</span>
       <span class="p">}[</span><span class="n">cmd</span><span class="p">]</span>
    <span class="k">exec</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">e</span><span class="p">(</span><span class="s">&#39;add&#39;</span><span class="p">)</span>
<span class="n">e</span><span class="p">(</span><span class="s">&#39;dup&#39;</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="n">e</span><span class="p">(</span><span class="s">&#39;mul&#39;</span><span class="p">)</span>
<span class="n">e</span><span class="p">(</span><span class="s">&#39;sub&#39;</span><span class="p">)</span>
<span class="n">e</span><span class="p">(</span><span class="s">&#39;peak&#39;</span><span class="p">)</span>
<span class="n">e</span><span class="p">(</span><span class="s">&#39;out&#39;</span><span class="p">)</span>
</pre></div>


<p>The key of the dictionary is the instruction and the value defines what the instruction does.</p>
    </div>
  </div>
  

  <div class="row">
    <div class="twocol"></div>
    <div class="eightcol newer-older">
      <div class="newer-posts" style="visibility:visible;"><a href="../pages/5.html">Newer</a></div>
      <div class="older-posts" style="visibility:visible;"><a href="../pages/7.html">Older</a></div>
    </div>
  </div>


      <!-- Footer -->
      <div class="row">
        <div class="twocol"></div>
        <div class="eightcol blog-footer">
          Copyright Â© 2012 - Evan Long
        </div>
      </div>
    </div>

    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4849522-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  </body>

</html>