<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <title>Blog Test</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- 1140px Grid styles for IE -->
    <!--[if lte IE 9]><link rel="stylesheet" href="../static/css/ie_1140.css" type="text/css" media="screen" /><![endif]-->
    <!--[if lte IE 9]><link rel="stylesheet" href="../static/css/ie_reset.css" type="text/css" media="screen" /><![endif]-->

    <!-- The 1140px Grid - http://cssgrid.net/ -->
    <link rel="stylesheet" href="../static/css/1140.css" type="text/css" media="screen" />

    <link rel="alternate" type="application/rss+xml" title="infectmac - RSS" href="../rss.xml" />

    <!-- Your styles -->
    <link rel="stylesheet" href="../static/css/styles.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../static/css/twilight_pygments.css" type="text/css" media="screen" />

    <!--css3-mediaqueries-js - http://code.google.com/p/css3-mediaqueries-js/ - Enables media queries in some unsupported browsers-->
    <script type="text/javascript" src="../static/js/css3-mediaqueries.js"></script>
  </head>

  <body>
    <div class="container">
      <!-- Header -->
      <div class="row">
        <div class="twocol"></div>
        <div class="eightcol blog-header">
          infectmac.com<br/>
        </div>
      </div>

      <!-- Section -->
      <div class="row">
        <div class="twocol"></div>
        <div class="eightcol section">
          <span class="section-header"><a href="../index.html">Blog</a></span>
          <span class="section-header"><a href="../posts.html">Posts</a></span>
          <span class="section-header"><a href="../about.html">About</a></span>
        </div>
      </div>

      
  <!-- Posts -->
  
  <div class="row post-container">
    <div class="twocol"></div>
    <div class="eightcol post">
      <div class="post-title"><a href="../posts/2012-01-26-02-48-How-To-Rule-the-World.html">How To Rule the World</a></div>
      <div class="post-date">January 26, 2012</div>
      <p>First always win</p>
<p>Two Always lose</p>
<p>Three whenever</p>
    </div>
  </div>
  
  <div class="row post-container">
    <div class="twocol"></div>
    <div class="eightcol post">
      <div class="post-title"><a href="../posts/2011-12-20-6-3-have-you-tried-turning-it-on-and-off-again:-libxpc.html">have you tried turning it on and off again: libxpc</a></div>
      <div class="post-date">December 20, 2011</div>
      <p>There was a weird hang we were seeing in <a href="http://itunes.apple.com/us/app/float-reader/id447992005?ls=1&amp;mt=8">Float</a>. It would occur anytime a text field became the first responder. The issue could be reproduced with our development build as well as the live app store build. The hang had the following frames at the top of the callstack for the main thread:</p>
<div class="codehilite"><pre><span class="mi">0</span>   <span class="n">libsystem_kernel</span><span class="o">.</span><span class="n">dylib</span>          <span class="n">mach_msg_trap</span> <span class="p">(</span><span class="n">in</span> <span class="n">libsystem_kernel</span><span class="o">.</span><span class="n">dylib</span><span class="p">)</span> <span class="o">+</span> <span class="mi">20</span>
<span class="mi">1</span>   <span class="n">libsystem_kernel</span><span class="o">.</span><span class="n">dylib</span>          <span class="n">mach_msg</span> <span class="p">(</span><span class="n">in</span> <span class="n">libsystem_kernel</span><span class="o">.</span><span class="n">dylib</span><span class="p">)</span> <span class="o">+</span> <span class="mi">50</span>
<span class="mi">2</span>   <span class="n">libxpc</span><span class="o">.</span><span class="n">dylib</span>                    <span class="n">_xpc_connection_check_in</span> <span class="p">(</span><span class="n">in</span> <span class="n">libxpc</span><span class="o">.</span><span class="n">dylib</span><span class="p">)</span> <span class="o">+</span> <span class="mi">152</span>
<span class="mi">3</span>   <span class="n">libxpc</span><span class="o">.</span><span class="n">dylib</span>                    <span class="n">_xpc_connection_init</span> <span class="p">(</span><span class="n">in</span> <span class="n">libxpc</span><span class="o">.</span><span class="n">dylib</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1032</span>
<span class="mi">4</span>   <span class="n">libxpc</span><span class="o">.</span><span class="n">dylib</span>                    <span class="n">_xpc_connection_wakeup2</span> <span class="p">(</span><span class="n">in</span> <span class="n">libxpc</span><span class="o">.</span><span class="n">dylib</span><span class="p">)</span> <span class="o">+</span> <span class="mi">774</span>
<span class="mi">5</span>   <span class="n">libxpc</span><span class="o">.</span><span class="n">dylib</span>                    <span class="n">_xpc_connection_wakeup</span> <span class="p">(</span><span class="n">in</span> <span class="n">libxpc</span><span class="o">.</span><span class="n">dylib</span><span class="p">)</span> <span class="o">+</span> <span class="mi">62</span>
<span class="mi">6</span>   <span class="n">libxpc</span><span class="o">.</span><span class="n">dylib</span>                    <span class="n">_xpc_connection_send_registration</span> <span class="p">(</span><span class="n">in</span> <span class="n">libxpc</span><span class="o">.</span><span class="n">dylib</span><span class="p">)</span> <span class="o">+</span> <span class="mi">24</span>

<span class="c1">#If you are reading this... reboot your iOS device. Your problems will probably go away.</span>
</pre></div>


<p>Google didn't return useful results for some the various <code>_xpc*</code> function names. Although the libxpc keyword seemed to be associated with "hang." I went and grabbed another 4S. Fortunately, the issue did not repro. From what I could tell libxpc is related to remote debugging. However, it never shutdown properly and was left running to break as it pleased. After a quick reboot of the device we were back to normal.</p>
<p>Seeing as Google was pretty sparse on this issue I hope this will save others some time.</p>
    </div>
  </div>
  
  <div class="row post-container">
    <div class="twocol"></div>
    <div class="eightcol post">
      <div class="post-title"><a href="../posts/2011-2-14-3-39-good-tools.html">good tools</a></div>
      <div class="post-date">February 14, 2011</div>
      <p>I recently moved to doing BlackBerry development at work which required me to go through setting up a new environment. I had successfully setup iPhone and Android environments by simply following the directions on their web sites. Not surprisingly, Apple has the easiest development environment to get setup. Google had a few more steps but made up for it with good <a href="http://developer.android.com/sdk/index.html">documentation</a>. To get started on Blackberry development I installed a bunch of software from this <a href="http://us.blackberry.com/developers/javaappdev/devtools.jsp">page</a>: Eclipse for Blackberry Development, Blackberry Java Development Environment (JDE), Torch Simulator, MDS Simulator. Ok good to go. I was able to build our <a href="http://appworld.blackberry.com/webstore/content/9656?lang=en">product</a> and run it on a simulator.  Next I started playing around with the app. Setting breakpoints and getting an idea of how things were plugged together. I wanted to try out the voice search feature and thought the simulator would use the PC mic but it was not working. I figured it should be easy to load the app on a device and eliminate the simulator as the cause of the problem. The JDE comes with a tool called JavaLoader for placing builds on the device. I plugged the device into the computer and ran the tool. It dumped info to the terminal of what it was doing and left me with an error message: HRESULT: 80040154. With a quick search I found that error code meant the a COM class could not be instantiated. I figured I probably did not install the software which allowed for communication with the device over USB. But what was it?   With COM to create an object you pass in a GUID and bam you have yourself an instance of some class (an oversimplification but good enough for this). Underneath the hood the program is really digging through the Windows registry looking for that GUID. If I could find that GUID I could easily find what I was missing with a quick web search.   To find the GUID I fired up <a href="http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx">procmon</a> and reran the JavaLoader program. Procmon is magic in a box. It shows all the different events taking place with the file system and registry for the whole system or a particular process. It helped me find the GUID in question as seen in the picture below:</p>
<p><a href="../static/img/procmon.png"><img alt="procmon" src="../static/img/procmon.png" /></a></p>
<p>I searched for <code>BA3D0120-E617-4F66-ADCA-585CC2FB86DB</code> and found a <a href="http://stackoverflow.com/questions/1585314/where-can-i-find-a-list-of-well-known-com-object-guids">stackoverflow</a> entry indicating that Blackberry Desktop Manager needed to be installed. Once I installed it everything work as expected.  Lesson today: Good tools make life better.</p>
    </div>
  </div>
  

  <div class="row">
    <div class="twocol"></div>
    <div class="eightcol newer-older">
      <div class="newer-posts" style="visibility:hidden;"><a href="../">Newer</a></div>
      <div class="older-posts" style="visibility:visible;"><a href="../pages/1.html">Older</a></div>
    </div>
  </div>


      <!-- Footer -->
      <div class="row">
        <div class="twocol"></div>
        <div class="eightcol blog-footer">
          Copyright Â© 2012 - Evan Long
        </div>
      </div>
    </div>
  </body>

</html>